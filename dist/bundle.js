(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
(async () => {
    let score = 0;
    let map1 = await newMap();
    let map2 = await newMap();
    setDetails(map1, "map1");
    setDetails(map2, "map2");
    let clicked = false;
    const higherButton = document.querySelector("#higher");
    const lowerButton = document.querySelector("#lower");
    const scoreDisplay = document.querySelector("#score");
    higherButton?.addEventListener("click", async (event) => {
        if (clicked)
            return;
        if (!map1 || !map2)
            return;
        clicked = true;
        if (map2.stats.upvotes >= map1.stats.upvotes) {
            score += 1;
        }
        else {
            score = 0;
        }
        map1 = map2;
        map2 = await newMap();
        setDetails(map1, "map1");
        setDetails(map2, "map2");
        if (!scoreDisplay)
            return;
        scoreDisplay.innerHTML = "Score: " + score;
        clicked = false;
    });
    lowerButton?.addEventListener("click", async (event) => {
        if (clicked)
            return;
        if (!map1 || !map2)
            return;
        clicked = true;
        if (map2.stats.upvotes <= map1.stats.upvotes) {
            score += 1;
        }
        else {
            score = 0;
        }
        map1 = map2;
        map2 = await newMap();
        setDetails(map1, "map1");
        setDetails(map2, "map2");
        if (!scoreDisplay)
            return;
        scoreDisplay.innerHTML = "Score: " + score;
        clicked = false;
    });
})();
async function newMap() {
    const response = await fetch(`https://api.beatsaver.com/maps/id/${randId(315872).toString(16)}`, {});
    const data = await response.json();
    if (data.success == false) {
        return await newMap();
    }
    return data;
}
function setDetails(map, id) {
    const side = document.querySelector("#" + id);
    if (!side)
        return;
    const name = side.querySelector(".name");
    if (!name)
        return;
    name.innerHTML = map.name;
    const background = side.querySelector(".background");
    background?.setAttribute("style", `background-image: url("${map.versions[0].coverURL}")`);
    const image = side.querySelector(".image");
    image?.setAttribute("src", map.versions[0].coverURL);
    const description = side.querySelector(".description");
    if (!description)
        return;
    description.innerHTML = `By ${map.uploader.name} | !bsr ${map.id}`;
    const upvotes = side.querySelector(".upvotes");
    if (!upvotes)
        return;
    upvotes.innerHTML = map.stats.upvotes + " Upvotes";
}
function randId(max) {
    return Math.floor(Math.random() * max - 1) + 1;
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsQ0FBQyxLQUFLLElBQUksRUFBRTtJQUNWLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLElBQUksSUFBSSxHQUFHLE1BQU0sTUFBTSxFQUFFLENBQUM7SUFDMUIsSUFBSSxJQUFJLEdBQUcsTUFBTSxNQUFNLEVBQUUsQ0FBQztJQUUxQixVQUFVLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFekIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBRXBCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkQsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyRCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXRELFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQ3RELElBQUksT0FBTztZQUFFLE9BQU87UUFDcEIsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBQzNCLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDZixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDN0MsS0FBSyxJQUFJLENBQUMsQ0FBQztRQUNiLENBQUM7YUFBTSxDQUFDO1lBQ04sS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNaLENBQUM7UUFDRCxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ1osSUFBSSxHQUFHLE1BQU0sTUFBTSxFQUFFLENB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QUFHLENBQUMsUUFBUSxDQUFDLElBQUksV0FBVyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUM7SUFFbkUsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMvQyxJQUFJLENBQUMsT0FBTztRQUFFLE9BQU87SUFDckIsT0FBTyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUM7QUFDckQsQ0FBQztBQUVELFNBQVMsTUFBTSxDQUFDLEdBQVc7SUFDekIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIoYXN5bmMgKCkgPT4ge1xuICBsZXQgc2NvcmUgPSAwO1xuICBsZXQgbWFwMSA9IGF3YWl0IG5ld01hcCgpO1xuICBsZXQgbWFwMiA9IGF3YWl0IG5ld01hcCgpO1xuXG4gIHNldERldGFpbHMobWFwMSwgXCJtYXAxXCIpO1xuICBzZXREZXRhaWxzKG1hcDIsIFwibWFwMlwiKTtcblxuICBsZXQgY2xpY2tlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhpZ2hlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaGlnaGVyXCIpO1xuICBjb25zdCBsb3dlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG93ZXJcIik7XG4gIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2NvcmVcIik7XG5cbiAgaGlnaGVyQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGNsaWNrZWQpIHJldHVybjtcbiAgICBpZiAoIW1hcDEgfHwgIW1hcDIpIHJldHVybjtcbiAgICBjbGlja2VkID0gdHJ1ZTtcbiAgICBpZiAobWFwMi5zdGF0cy51cHZvdGVzID49IG1hcDEuc3RhdHMudXB2b3Rlcykge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NvcmUgPSAwO1xuICAgIH1cbiAgICBtYXAxID0gbWFwMjtcbiAgICBtYXAyID0gYXdhaXQgbmV3TWFwKCk7XG4gICAgc2V0RGV0YWlscyhtYXAxLCBcIm1hcDFcIik7XG4gICAgc2V0RGV0YWlscyhtYXAyLCBcIm1hcDJcIik7XG4gICAgaWYgKCFzY29yZURpc3BsYXkpIHJldHVybjtcbiAgICBzY29yZURpc3BsYXkuaW5uZXJIVE1MID0gXCJTY29yZTogXCIgKyBzY29yZTtcbiAgICBjbGlja2VkID0gZmFsc2U7XG4gIH0pO1xuXG4gIGxvd2VyQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGNsaWNrZWQpIHJldHVybjtcbiAgICBpZiAoIW1hcDEgfHwgIW1hcDIpIHJldHVybjtcbiAgICBjbGlja2VkID0gdHJ1ZTtcbiAgICBpZiAobWFwMi5zdGF0cy51cHZvdGVzIDw9IG1hcDEuc3RhdHMudXB2b3Rlcykge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NvcmUgPSAwO1xuICAgIH1cbiAgICBtYXAxID0gbWFwMjtcbiAgICBtYXAyID0gYXdhaXQgbmV3TWFwKCk7XG4gICAgc2V0RGV0YWlscyhtYXAxLCBcIm1hcDFcIik7XG4gICAgc2V0RGV0YWlscyhtYXAyLCBcIm1hcDJcIik7XG4gICAgaWYgKCFzY29yZURpc3BsYXkpIHJldHVybjtcbiAgICBzY29yZURpc3BsYXkuaW5uZXJIVE1MID0gXCJTY29yZTogXCIgKyBzY29yZTtcbiAgICBjbGlja2VkID0gZmFsc2U7XG4gIH0pO1xufSkoKTtcblxuYXN5bmMgZnVuY3Rpb24gbmV3TWFwKCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgYGh0dHBzOi8vYXBpLmJlYXRzYXZlci5jb20vbWFwcy9pZC8ke3JhbmRJZCgzMTU4NzIpLnRvU3RyaW5nKDE2KX1gLFxuICAgIHt9XG4gICk7XG4gIGNvbnN0IGRhdGE6IGFueSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgaWYgKGRhdGEuc3VjY2VzcyA9PSBmYWxzZSkge1xuICAgIHJldHVybiBhd2FpdCBuZXdNYXAoKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gc2V0RGV0YWlscyhtYXA6IGFueSwgaWQ6IHN0cmluZykge1xuICBjb25zdCBzaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGlkKTtcbiAgaWYgKCFzaWRlKSByZXR1cm47XG4gIGNvbnN0IG5hbWUgPSBzaWRlLnF1ZXJ5U2VsZWN0b3IoXCIubmFtZVwiKTtcbiAgaWYgKCFuYW1lKSByZXR1cm47XG4gIG5hbWUuaW5uZXJIVE1MID0gbWFwLm5hbWU7XG4gIGNvbnN0IGJhY2tncm91bmQgPSBzaWRlLnF1ZXJ5U2VsZWN0b3IoXCIuYmFja2dyb3VuZFwiKTtcbiAgYmFja2dyb3VuZD8uc2V0QXR0cmlidXRlKFxuICAgIFwic3R5bGVcIixcbiAgICBgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiJHttYXAudmVyc2lvbnNbMF0uY292ZXJVUkx9XCIpYFxuICApO1xuICBjb25zdCBpbWFnZSA9IHNpZGUucXVlcnlTZWxlY3RvcihcIi5pbWFnZVwiKTtcbiAgaW1hZ2U/LnNldEF0dHJpYnV0ZShcInNyY1wiLCBtYXAudmVyc2lvbnNbMF0uY292ZXJVUkwpO1xuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpO1xuICBpZiAoIWRlc2NyaXB0aW9uKSByZXR1cm47XG4gIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGBCeSAke21hcC51cGxvYWRlci5uYW1lfSB8ICFic3IgJHttYXAuaWR9YDtcblxuICBjb25zdCB1cHZvdGVzID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLnVwdm90ZXNcIik7XG4gIGlmICghdXB2b3RlcykgcmV0dXJuO1xuICB1cHZvdGVzLmlubmVySFRNTCA9IG1hcC5zdGF0cy51cHZvdGVzICsgXCIgVXB2b3Rlc1wiO1xufVxuXG5mdW5jdGlvbiByYW5kSWQobWF4OiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCAtIDEpICsgMTtcbn1cbiJdfQ==
