(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
(async () => {
    let score = 0;
    let map1 = await newMap();
    let map2 = await newMap();
    setDetails(map1, "map1");
    setDetails(map2, "map2");
    const higherButton = document.querySelector("#higher");
    const lowerButton = document.querySelector("#lower");
    const scoreDisplay = document.querySelector("#score");
    higherButton?.addEventListener("click", async (event) => {
        if (!map1 || !map2)
            return;
        if (map2.stats.upvotes >= map1.stats.upvotes) {
            score += 1;
        }
        else {
            score = 0;
        }
        map1 = map2;
        map2 = await newMap();
        setDetails(map1, "map1");
        setDetails(map2, "map2");
        if (!scoreDisplay)
            return;
        scoreDisplay.innerHTML = "Score: " + score;
    });
    lowerButton?.addEventListener("click", async (event) => {
        if (!map1 || !map2)
            return;
        if (map2.stats.upvotes <= map1.stats.upvotes) {
            score += 1;
        }
        else {
            score = 0;
        }
        map1 = map2;
        map2 = await newMap();
        setDetails(map1, "map1");
        setDetails(map2, "map2");
        if (!scoreDisplay)
            return;
        scoreDisplay.innerHTML = "Score: " + score;
    });
})();
async function newMap() {
    const response = await fetch(`https://api.beatsaver.com/maps/id/${randId(315872).toString(16)}`, {});
    const data = await response.json();
    if (data.success == false) {
        return await newMap();
    }
    return data;
}
function setDetails(map, id) {
    const side = document.querySelector("#" + id);
    if (!side)
        return;
    const name = side.querySelector(".name");
    if (!name)
        return;
    name.innerHTML = map.name;
    const background = side.querySelector(".background");
    // background?.setAttribute("src", map.versions[0].coverURL);
    // side.setAttribute(
    //   "style",
    //   `background-image: url("${map.versions[0].coverURL}")`
    // );
    background?.setAttribute("style", `background-image: url("${map.versions[0].coverURL}")`);
    const image = side.querySelector(".image");
    image?.setAttribute("src", map.versions[0].coverURL);
    const description = side.querySelector(".description");
    if (!description)
        return;
    description.innerHTML = `By ${map.uploader.name} | !bsr ${map.id}`;
    const upvotes = side.querySelector(".upvotes");
    if (!upvotes)
        return;
    upvotes.innerHTML = map.stats.upvotes + " Upvotes";
}
function randId(max) {
    return Math.floor(Math.random() * max - 1) + 1;
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsQ0FBQyxLQUFLLElBQUksRUFBRTtJQUNWLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLElBQUksSUFBSSxHQUFHLE1BQU0sTUFBTSxFQUFFLENBQUM7SUFDMUIsSUFBSSxJQUFJLEdBQUcsTUFBTSxNQUFNLEVBQUUsQ0FBQztJQUUxQixVQUFVLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFekIsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2RCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFdEQsWUFBWSxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDdEQsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBQzNCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QyxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQ2IsQ0FBQzthQUFNLENBQUM7WUFDTixLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1osQ0FBQztRQUNELElBQUksR0FBRyxJQUFJLENBQUM7UUFDWixJQUFJLEdBQUcsTUFBTSxNQUFNLEVBQUUsQ0FBQztRQUN0QixVQUFVLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3pCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENB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T0FBTztRQUFFLE9BQU87SUFDckIsT0FBTyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUM7QUFDckQsQ0FBQztBQUVELFNBQVMsTUFBTSxDQUFDLEdBQVc7SUFDekIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIoYXN5bmMgKCkgPT4ge1xuICBsZXQgc2NvcmUgPSAwO1xuICBsZXQgbWFwMSA9IGF3YWl0IG5ld01hcCgpO1xuICBsZXQgbWFwMiA9IGF3YWl0IG5ld01hcCgpO1xuXG4gIHNldERldGFpbHMobWFwMSwgXCJtYXAxXCIpO1xuICBzZXREZXRhaWxzKG1hcDIsIFwibWFwMlwiKTtcblxuICBjb25zdCBoaWdoZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hpZ2hlclwiKTtcbiAgY29uc3QgbG93ZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvd2VyXCIpO1xuICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Njb3JlXCIpO1xuXG4gIGhpZ2hlckJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGlmICghbWFwMSB8fCAhbWFwMikgcmV0dXJuO1xuICAgIGlmIChtYXAyLnN0YXRzLnVwdm90ZXMgPj0gbWFwMS5zdGF0cy51cHZvdGVzKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29yZSA9IDA7XG4gICAgfVxuICAgIG1hcDEgPSBtYXAyO1xuICAgIG1hcDIgPSBhd2FpdCBuZXdNYXAoKTtcbiAgICBzZXREZXRhaWxzKG1hcDEsIFwibWFwMVwiKTtcbiAgICBzZXREZXRhaWxzKG1hcDIsIFwibWFwMlwiKTtcbiAgICBpZiAoIXNjb3JlRGlzcGxheSkgcmV0dXJuO1xuICAgIHNjb3JlRGlzcGxheS5pbm5lckhUTUwgPSBcIlNjb3JlOiBcIiArIHNjb3JlO1xuICB9KTtcblxuICBsb3dlckJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGlmICghbWFwMSB8fCAhbWFwMikgcmV0dXJuO1xuICAgIGlmIChtYXAyLnN0YXRzLnVwdm90ZXMgPD0gbWFwMS5zdGF0cy51cHZvdGVzKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29yZSA9IDA7XG4gICAgfVxuICAgIG1hcDEgPSBtYXAyO1xuICAgIG1hcDIgPSBhd2FpdCBuZXdNYXAoKTtcbiAgICBzZXREZXRhaWxzKG1hcDEsIFwibWFwMVwiKTtcbiAgICBzZXREZXRhaWxzKG1hcDIsIFwibWFwMlwiKTtcbiAgICBpZiAoIXNjb3JlRGlzcGxheSkgcmV0dXJuO1xuICAgIHNjb3JlRGlzcGxheS5pbm5lckhUTUwgPSBcIlNjb3JlOiBcIiArIHNjb3JlO1xuICB9KTtcbn0pKCk7XG5cbmFzeW5jIGZ1bmN0aW9uIG5ld01hcCgpOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgIGBodHRwczovL2FwaS5iZWF0c2F2ZXIuY29tL21hcHMvaWQvJHtyYW5kSWQoMzE1ODcyKS50b1N0cmluZygxNil9YCxcbiAgICB7fVxuICApO1xuICBjb25zdCBkYXRhOiBhbnkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIGlmIChkYXRhLnN1Y2Nlc3MgPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3TWFwKCk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIHNldERldGFpbHMobWFwOiBhbnksIGlkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc2lkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpZCk7XG4gIGlmICghc2lkZSkgcmV0dXJuO1xuICBjb25zdCBuYW1lID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLm5hbWVcIik7XG4gIGlmICghbmFtZSkgcmV0dXJuO1xuICBuYW1lLmlubmVySFRNTCA9IG1hcC5uYW1lO1xuICBjb25zdCBiYWNrZ3JvdW5kID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLmJhY2tncm91bmRcIik7XG4gIC8vIGJhY2tncm91bmQ/LnNldEF0dHJpYnV0ZShcInNyY1wiLCBtYXAudmVyc2lvbnNbMF0uY292ZXJVUkwpO1xuICAvLyBzaWRlLnNldEF0dHJpYnV0ZShcbiAgLy8gICBcInN0eWxlXCIsXG4gIC8vICAgYGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiR7bWFwLnZlcnNpb25zWzBdLmNvdmVyVVJMfVwiKWBcbiAgLy8gKTtcbiAgYmFja2dyb3VuZD8uc2V0QXR0cmlidXRlKFxuICAgIFwic3R5bGVcIixcbiAgICBgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiJHttYXAudmVyc2lvbnNbMF0uY292ZXJVUkx9XCIpYFxuICApO1xuICBjb25zdCBpbWFnZSA9IHNpZGUucXVlcnlTZWxlY3RvcihcIi5pbWFnZVwiKTtcbiAgaW1hZ2U/LnNldEF0dHJpYnV0ZShcInNyY1wiLCBtYXAudmVyc2lvbnNbMF0uY292ZXJVUkwpO1xuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpO1xuICBpZiAoIWRlc2NyaXB0aW9uKSByZXR1cm47XG4gIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGBCeSAke21hcC51cGxvYWRlci5uYW1lfSB8ICFic3IgJHttYXAuaWR9YDtcblxuICBjb25zdCB1cHZvdGVzID0gc2lkZS5xdWVyeVNlbGVjdG9yKFwiLnVwdm90ZXNcIik7XG4gIGlmICghdXB2b3RlcykgcmV0dXJuO1xuICB1cHZvdGVzLmlubmVySFRNTCA9IG1hcC5zdGF0cy51cHZvdGVzICsgXCIgVXB2b3Rlc1wiO1xufVxuXG5mdW5jdGlvbiByYW5kSWQobWF4OiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCAtIDEpICsgMTtcbn1cbiJdfQ==
